<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Arizonia&family=Dr+Sugiyama&family=Noto+Sans+JP:wght@100..900&family=Poiret+One&family=Rock+Salt&display=swap" rel="stylesheet"><Em></Em>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://kit.fontawesome.com/bc0e8530bb.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <title>さとこの部屋</title>

</head>


<body>
  

    <!-- ハンバーガーメニュー＆ナビゲーション -->
  <header>    
    <nav class="ghost-menu" aria-label="Site menu">
      <button class="menu-badge" aria-expanded="false" aria-controls="paperMenu" aria-label="Open menu">
        <img src="img/butterfly.png" alt="蝶のメニュー">
      </button>

      <div id="paperMenu" class="paper-menu" role="menu" aria-hidden="true">
        <ul>
          <li><a role="menuitem" href="/">Home</a></li>
          <li><a role="menuitem" href="/blog/">Blog</a></li>
          <li><a role="menuitem" href="/course/">Grid Note</a></li>
          <li><a role="menuitem" href="/gallery/">Photos</a></li>
          <li><a role="menuitem" href="/contact/">Contact</a></li>
        </ul>
      </div>
    </nav>

  </header>


      


      
        <div id="hero-section"><!-- トップ -->
            <div class="hero-wrapper">
                <img src="./img/top.jpg" alt="背景" class="bg-img">
                <img src="./img/rainbow.png" alt="虹" class="rainbow">
                <h1 class="site-title">さとこの部屋</h1>

                

                <a href="オススメ映画.html" class="icon icon-movie postcard">
                  <img src="img/postcard_normal.png" class="normal">
                  <img src="img/postcard_peel.png" class="peel">
                </a>


                <a href="自然散策.html" class="icon icon-nature"></a>
                
                <a href="着物.html" class="icon icon-kimono mug">
                  <img src="img/mug.png" class="outside">
                  <img src="img/korobokkuru.png" class="kobito">
                  <img src="img/mug_rim.png" class="inside">
                </a>


                <div class="hotspot hotspot-mountain">
                  <a href="移住計画.html" class="icon icon-move"aria-label="移住計画"></a>
                  <img src="img/rainbow.png" alt="" class="rainbow">
                </div>

                
                <a href="養蜂.html" class="icon icon-bee path-a"></a>

                <a href="方眼ノート.html" class="icon icon-note notebook">
                  <img src="img/closed_notebook.png" class="closed">
                  <img src="img/opened_notebook.png" class="half">
                </a>
              
                <a href="etc.html" class="icon icon-pen">
                  <img class="pen" src="img/pen.png" alt="">
                  <img class="ink" src="img/ink.png" alt="">
                </a>            
                <span class="floating-msg">Find 7 items</span>
            
              </div>
        </div>
    <main>
        <div class="contents">
            <div CategorySection id="CategorySection">
                <div class="gp-title">
                    <h2>Categoy</h2>
                </div>
                <ul class="category-list">
                <li class="item">
                    <img src="img/postcard_normal.png" class="circle" alt="オススメ映画">
                    <p class="subject">オススメ映画</p>
                </li>
                <li class="item">
                    <img src="img/C_nature.png" class="circle" alt="自然散策">
                    <p class="subject">自然散策</p>
                </li>
                <li class="item">
                    <img src="img/C_mug.png" class="circle" alt="着物">
                    <p class="subject">着物</p>
                </li>

                <li class="break" aria-hidden="true"></li> <!-- ここで改行 -->

                <li class="item">
                    <img src="img/move2.png" class="circle" alt="移住計画">
                    <p class="subject">移住計画</p>
                </li>
                <li class="item">
                    <img src="img/C_bee.png" class="circle" alt="養蜂">
                    <p class="subject">養蜂</p>
                </li>

                <li class="break" aria-hidden="true"></li> <!-- ここで改行 -->

                <li class="item">
                    <img src="img/C_closed_notebook.png" class="circle" alt="方眼ノート">
                    <p class="subject">方眼ノート</p>
                </li>

                <li class="item">
                    <img src="img/C_ink-pen.png" class="circle" alt="思いつくままに">
                    <p class="subject">思いつくままに</p>
                </li>

                <li class="item decoration" aria-hidden="true">
                    <img src="img/natural5.png" alt="">
                </li>

                </ul>
            </div>

            <div GallerySection id="GallerySection">
                <div class="Sctn-title">
                    <h2>Gallery</h2>
                </div>
                <!-- Sliderを包むコンテナ要素 -->
                <div class="img-photo_swiper">
                    <!-- スライド要素を包む要素 -->
                    <div class="swiper-wrapper">
                        <!-- 各スライド -->
                        <div class="swiper-slide">
                        <img class = "slide_img" src="img/sample1.jpg" alt="サンプル">
                        </div>
                        <div class="swiper-slide">
                        <img class = "slide_img" src="img/sample2.JPG" alt="サンプル">
                        </div>
                        <div class="swiper-slide">
                        <img class = "slide_img" src="img/sample3.jpg" alt="サンプル">
                        </div>
                        <div class="swiper-slide">
                        <img class = "slide_img" src="img/sample4.jpg" alt="サンプル">
                        </div>
                    </div>
                </div>
            </section>

            <div IntroSection id="IntroSection">
                <div class="greeting">
                    <div class="Sctn-title">
                        <h2>Welcome</h2>
                    </div>
                    <div class="greeting-text">
                        <p >
                            こんにちは。ようこそ、さとこの部屋へ。<br>
                            作業療法士の仕事をしながら、趣味や、日々の発見、思うことを気ままに綴っています。<br>    
                            コメントも受け付けていますので、ぜひ、ご意見などもお聞かせください。お待ちしてます。<br>
                            気に入っていただければぜひシェアもお願いします。

                        </p>
                    </div>
                      <div class="sns-share">
                        <a href="https://twitter.com/intent/tweet?url=https://example.com" target="_blank" aria-label="Twitter">
                        <i class="fa-brands fa-x-twitter"></i>
                        </a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://example.com" target="_blank" aria-label="Facebook">
                        <i class="fa-brands fa-facebook"></i>
                        </a>
                        <a href="https://www.instagram.com/sharer/sharer.php?u=https://example.com" target="_blank" aria-label="Facebook">
                        <i class="fa-brands fa-instagram"></i>
                        </a>                        
                        <a href="https://bsky.app/intent/compose?text=https://example.com" target="_blank" aria-label="Bluesky">
                        <i class="fa-brands fa-bluesky"></i>
                        </a>
                    </div>
                </div>
                <div class="sidebar">
                    <div class="aboutme">
                        <h3>ABOUT ME</h3>
                        <p> 自己紹介をつらつらと書いておくスペース<br>
                            自己紹介をつらつらと書いておくスペース<br>
                            自己紹介をつらつらと書いておくスペース<br>
                            自己紹介をつらつらと書いておくスペース<br>
                            自己紹介をつらつらと書いておくスペース<br>
                        </p>
                    </div>
                    <div class="widget search-widget">
                        <h3>Search</h3>
                        <form action="/search">
                            <input type="text" name="q" placeholder="検索...">
                            <button type="submit">🔍</button>
                        </form>
                    </div>

                    <!-- NEW -->
                    <div class="widget new-widget">
                        <h3>NEW</h3>
                        <ul>
                            <li><a href="#">新着記事タイトル1</a></li>
                            <li><a href="#">新着記事タイトル2</a></li>
                            <li><a href="#">新着記事タイトル3</a></li>
                        </ul>
                    </div>

                    <!-- TAG -->
                    <div class="widget tag-widget">
                        <h3>TAG</h3>
                        <ul class="tag-list">
                            <li><a href="#">DIY</a></li>
                            <li><a href="#">旅行</a></li>
                            <li><a href="#">料理</a></li>
                            <li><a href="#">猫</a></li>
                        </ul>
                    </div>
                </div>
            </div>

</div>

    </main>


  <script>

src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"


document.addEventListener('DOMContentLoaded', () => {
  const nav   = document.querySelector('.ghost-menu');
  const badge = nav?.querySelector('.menu-badge');
  const panel = nav?.querySelector('.paper-menu');
  if (!nav || !badge || !panel) return;

  // 初期：上端を支点に、巻かれた状態に
  gsap.set(panel, {
    opacity: 0,
    rotateX: -74,
    transformPerspective: 900,
    transformOrigin: "50% 0%",
    clipPath: "inset(0 0 86% 0)"
  });

  let open = false;

  const openMenu = () => {
    gsap.killTweensOf(panel);
    const tl = gsap.timeline({ defaults:{ ease:"power2.out" }});
    tl.to(panel, { opacity: 1, duration: 0.08 }, 0)
      .to(panel, { rotateX: 6, duration: 0.28 }, 0)
      .to(panel, { rotateX: 0, duration: 0.18 }, 0.28)
      .to(panel, { clipPath: "inset(0 0 0 0)", duration: 0.42 }, 0.05)
      .to(panel, { 
        "--roll-h": "0px", 
        "--roll-o": 0, 
        "--roll-w": "0px",
        duration: 0.32 
      }, 0.12)
      .to(panel, { 
        rotateX: 0, rotateY: 0, rotateZ: 0, skewX: 0, skewY: 0, x: 0, y: 0,
        duration: 0.01, ease: "none"
      })
      .add(() => {
        gsap.set(panel, { clearProps: "transform,transformPerspective" });
      }, ">"); 
  };

  const closeMenu = () => {
    gsap.killTweensOf(panel);
    const tl = gsap.timeline({ defaults:{ ease:"power2.in" }});
    tl.to(panel, { clipPath: "inset(0 0 92% 0)", duration: 0.28 }, 0)
      .to(panel, { rotateX: -82, duration: 0.32 }, 0)
      .to(panel, { opacity: 0, duration: 0.12 }, 0.22)
      .to(panel, { 
        "--roll-h": "18px", 
        "--roll-o": 0.9, 
        "--roll-w": "28px",
        duration: 0.2 
      }, 0);
  };

  // イベントリスナー
  badge.addEventListener('click', (e) => {
    e.preventDefault();
    open ? (open=false, closeMenu()) : (open=true, openMenu());
  });
  
  nav.addEventListener('mouseenter', () => { 
    open=true;  
    openMenu();  
  });
  nav.addEventListener('mouseleave', () => { 
    open=false; 
    closeMenu(); 
  });
});











gsap.registerPlugin(ScrollTrigger); // 必須！

ScrollTrigger.matchMedia({

  "(min-width: 768px)": function () {
    gsap.to(".sticky1", {
      y: 300,
      scrollTrigger: {
        trigger: ".sticky1",
        start: "top 20%",
        end: "+=1250",
        scrub: true,
        pin: true
      }
    });
  },

  "(max-width: 767px)": function () {
    gsap.to(".sticky1", {
      y: 100,
      scrollTrigger: {
        trigger: ".sticky1",
        start: "top 20%",
        end: "+=850",
        scrub: true,
        pin: true
      }
    });
  }

});




    const photo_swiper = new Swiper(".img-photo_swiper",{
      loop: true,
      pagination: false,
      speed: 12000, // ループの時間
      allowTouchMove: false, // スワイプ無効
      autoplay: {
      delay: 0,
      },
      slidesPerView: 2,
        breakpoints: {
    // スマホ用
    0: {
      slidesPerView: 2
    },
    768: {
      slidesPerView: 2.3
    },
    1440: {
      slidesPerView: 3
    }
  },

    });

    const swiper = new Swiper(".swiper",{
      loop: true, // ループするかどうか
      slidesPerView: 2,
    });
 
    
// 蜂の動きランダム動き切り替え

(() => {
  const bee = document.querySelector('.icon-bee');
  if(!bee) return;

  // === 調整パラメータ =========================
  const home = {x: 0, y: 0};        // 花の基準（.icon-bee の初期left/topを花位置に合わせる前提）
  const bounds = {x: 100, y: 100};    // どのくらい飛ぶか（px）
  const flyMin = 1200, flyMax = 2800; // 飛行時間 ms（1.2〜2.2s）
  const restHomeMin = 1800, restHomeMax = 3000; // 花で休む時間 ms（1.2〜2.0s）
  const bulgeMin = 30, bulgeMax = 80; // 弧のふくらみ（px）
  const bendMin = 0.6, bendMax = 1.2; // 弧の曲げ角（rad）
  // ===========================================

  let pos = {x: 0, y: 0};      // 現在座標（CSS変数ベース）
  let goingHome = false;       // 外→花→外…のトグル

  // 二次ベジェ補間
  const quad = (p0,p1,p2,t)=> (1-t)*(1-t)*p0 + 2*(1-t)*t*p1 + t*t*p2;
  const ease = t => 0.5 - 0.5*Math.cos(Math.PI*t); // イーズインアウト
  const rand = (a,b)=> a + Math.random()*(b-a);

  function nextPerch(){
    if(goingHome){
      goingHome = false;
      return { ...home, atHome: true };
    }else{
      goingHome = true;
      const ang = Math.random()*Math.PI*2;
      const rx = rand(30, bounds.x);
      const ry = rand(20, bounds.y);
      return { x: home.x + Math.cos(ang)*rx, y: home.y + Math.sin(ang)*ry, atHome:false };
    }
  }

  function flyOnce(){
    const start = {...pos};
    const end   = nextPerch();

    // 弧の制御点：中点をランダム方向に膨らませる
    const base = Math.atan2(end.y-start.y, end.x-start.x);
    const bend = (Math.random()>0.5?1:-1) * rand(bendMin, bendMax);
    const bulge = rand(bulgeMin, bulgeMax);
    const mx = (start.x+end.x)/2 + Math.cos(base + bend)*bulge;
    const my = (start.y+end.y)/2 + Math.sin(base + bend)*bulge;

    const duration = rand(flyMin, flyMax);

    const t0 = performance.now();
    function tick(now){
      const t = Math.min(1, (now - t0)/duration);
      const te = ease(t);
      const x = quad(start.x, mx, end.x, te);
      const y = quad(start.y, my, end.y, te);
      bee.style.setProperty('--x', x.toFixed(2)+'px');
      bee.style.setProperty('--y', y.toFixed(2)+'px');

      if(t < 1){
        requestAnimationFrame(tick);
      }else{
        pos = end; // 着地
        if(end.atHome){
          // 花でだけ休む
          bee.classList.add('bee-rest');
          const pause = rand(restHomeMin, restHomeMax);
          setTimeout(() => { bee.classList.remove('bee-rest'); requestAnimationFrame(flyOnce); }, pause);
        }else{
          // 空中停止なしで次フライト
          requestAnimationFrame(flyOnce);
        }
      }
    }
    requestAnimationFrame(tick);
  }

  // スタート
  bee.style.setProperty('--x', '0px');
  bee.style.setProperty('--y', '0px');
  requestAnimationFrame(flyOnce);
})();




//揺れる小枝と葉

const target = ".icon-nature";

// ホバー時だけ再生するタイムライン
const tl = gsap.timeline({ paused: true });

// ① ランダム細揺れ（数回）
tl.to(target, {
  rotation: () => gsap.utils.random(-3, 3),
  x: () => gsap.utils.random(-1, 1),
  y: () => gsap.utils.random(-1, 1),
  duration: 0.1,
  repeat: 4,      // 揺れ回数（好みで 4〜10）
  yoyo: true,
  ease: "sine.inOut"
})

// ② 余韻でスッと原点へ
.to(target, {
  rotation: 0,
  x: 0,
  y: 0,
  duration: 0.28, // 収まりの長さ（0.2〜0.4）
  ease: "power2.out"
});

const el = document.querySelector(target);
el.addEventListener("mouseenter", () => {
  tl.restart(); // 毎回最初から
});




(() => {
  const hero = document.querySelector(".hero-wrapper");
  const pen  = hero.querySelector(".icon-pen .pen");
  const root = hero.querySelector(".icon-pen");
  const msg  = hero.querySelector(".floating-msg");

  const tl = gsap.timeline({ paused: true });

  function buildTimeline(){
    tl.clear();

    // いったん基準化（毎回同じスタートにする）
    gsap.set(pen, { x: 0, y: 0, rotation: 0, zIndex: 1 });

    // ペン画像の現在位置（画面座標）と、.hero の中心（画面座標）を取得
    const penRect  = pen.getBoundingClientRect();
    const heroRect = hero.getBoundingClientRect();

    const centerX = heroRect.left + heroRect.width  / 2;
    const centerY = heroRect.top  + heroRect.height / 2;

    const dx = centerX - (penRect.left + penRect.width  / 2);
    const dy = centerY - (penRect.top  + penRect.height / 2);

    const waveDist = heroRect.width * 0.35; // 右へ進む距離（比率で調整しやすい）

    // ① 少し左上に“ため” → ② .hero の中央へ
    tl.to(pen, {
        x: dx * -0.60,
        y: dy * 1.35 - 20,
        rotation: -12,
        duration: 1.5,
        ease: "power2.out"
      })

const writeDur = 1.4;

tl.add("write"); // ← ラベルを先に追加

// ペン：くねくね移動（＝書き区間）
tl.to(pen, {
  duration: writeDur,
  ease: "none",
  keyframes: [
    // 上り（右上へ軽く）：軽い筆圧＝速め
    { x: "+=124", y: "-=118", rotation: -12, duration: 0.32, ease: "power2.in" },
    // 下り（真下〜やや左下）：重め＝少し遅く、xを少し戻す
    { x: "-=16",  y: "+=80", rotation:  -4, duration: 0.38, ease: "sine.in"    },
    // 上り
    { x: "+=126", y: "-=116", rotation: -11, duration: 0.32, ease: "power2.in" },
    // 下り
    { x: "-=15",  y: "+=88", rotation:  -5, duration: 0.38, ease: "sine.in"    },
    // 上り
    { x: "+=124", y: "-=118", rotation: -12, duration: 0.22, ease: "power2.in" },
    // 下り（真下〜やや左下）：重め＝少し遅く、xを少し戻す
    { x: "-=16",  y: "+=70", rotation:  -4, duration: 0.28, ease: "sine.in"    },
    // 上り
    { x: "+=126", y: "-=116", rotation: -11, duration: 0.22, ease: "power2.out" },
    // 下り
    { x: "-=15",  y: "+=78", rotation:  -5, duration: 0.28, ease: "sine.in"    }


  ]
}, "write"); // ← ここで object を閉じて ), そして position 引数, 最後に );

const hold = 0.30;// 見せておく待機時間
// メッセージ：横ワイプで同期
tl.set(msg, { opacity: 1 }, "write")
  .fromTo(msg,
    { clipPath: "inset(0 100% 0 0 round 999px)" },
    { clipPath: "inset(0 0%   0 0 round 999px)", duration: writeDur, ease: "none" },
    "write"
  )

  .to(msg, { opacity: 0, y: -8, duration: 0.34, ease: "power1.in" },">+" + hold)

// 一呼吸（止まって見える間）
.to({}, { duration: 0.15 })
// 原点へ戻す（余韻で）
.to(pen, {
  x: 0, y: 0, rotation: 0,
  duration: 0.6,
  ease: "power2.out"
});
  }

  // ホバーのたびに、その時点の位置で再計算して再生
  hero.querySelector(".icon-pen").addEventListener("mouseenter", () => {
    buildTimeline();
    tl.restart();
  });

  // レスポンシブ時に乱れたら一旦停止（任意）
  window.addEventListener("resize", () => tl.pause(0));
})();



function ensureSplitMessage(msg){
  if (!msg || msg.dataset.splitDone === "true") return;

  const text = msg.textContent;
  const frag  = document.createDocumentFragment();
  msg.textContent = ""; // 一旦空に

  // サロゲートペア対応で1文字ずつ
  for (const ch of Array.from(text)) {
    const span = document.createElement("span");
    span.className = "char";
    // スペースを潰さない
    if (ch === " ") span.innerHTML = "&nbsp;";
    else span.textContent = ch;
    frag.appendChild(span);
  }
  msg.appendChild(frag);
  msg.dataset.splitDone = "true";
}




















const mySwiper = new Swiper('.topics_swiper', {
        // オプション設定
        loop: true, // ループするかどうか
        slidesPerView: 1,
        breakpoints: {
          // スマホ用
          0: {
            slidesPerView: 1
          },
          768: {
            slidesPerView: 2
          },
          1440: {
            slidesPerView: 3
          }
        },
        pagination: {
            el: '.topics-pagination',
            clickable: true, // ページネーションをクリック可能にするかどうか
        },
        navigation: {
            nextEl: '.topics_swiper .swiper-button-next',
            prevEl: '.topics_swiper .swiper-button-prev'
        }
        });


//fadein
const fadeEls = document.querySelectorAll('.fade-in');

const callback = (entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('active');
    }
  });
};

const observer = new IntersectionObserver(callback, {
  threshold: 0.1
});

fadeEls.forEach(el => observer.observe(el));





const fadeTextEls = document.querySelectorAll('.fade-text');

const fadeTextObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.intersectionRatio > 0.3) {
      console.log('🚀 発火！');
      entry.target.classList.add('active');
    }
  });
}, {
  threshold: [0, 0.1, 1],
  rootMargin: '0px 0px -10% 0px',
});


// 🔥 ここで observer に登録＋位置を手動チェック！
fadeTextEls.forEach(el => {
  fadeTextObserver.observe(el);

  const rect = el.getBoundingClientRect();
  const inView = rect.top < window.innerHeight && rect.bottom > 0;
  //if (inView) {
  //  console.log('👀 最初から見えてたので強制発火');
   // el.classList.add('active');
 // }
});




//fade-up
const fadeUps = document.querySelectorAll('.fade-up');

const fadeUpObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('active');
      // 一度だけ発火したい場合は以下を追加
      fadeUpObserver.unobserve(entry.target);
    }
  });
}, {
  threshold: 0.1
});

fadeUps.forEach(el => fadeUpObserver.observe(el));



  </script>
</body>
 </html>